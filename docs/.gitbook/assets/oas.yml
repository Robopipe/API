openapi: 3.1.0
info:
  title: Robopipe API
  description: API for the Robopipe application
  version: 0.1.0
paths:
  /cameras/:
    get:
      tags:
      - cameras
      summary: List Cameras
      operationId: list_cameras_cameras__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/DeviceInfo'
                type: array
                title: Response List Cameras Cameras  Get
  /cameras/{mxid}/:
    get:
      tags:
      - cameras
      - cameras
      summary: Get Camera
      operationId: get_camera_cameras__mxid___get
      parameters:
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceInfo'
        '404':
          description: Camera not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    post:
      tags:
      - cameras
      - cameras
      summary: Create Camera
      operationId: create_camera_cameras__mxid___post
      parameters:
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceInfo'
        '404':
          description: Camera not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags:
      - cameras
      - cameras
      summary: Delete Camera
      operationId: delete_camera_cameras__mxid___delete
      parameters:
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceInfo'
        '404':
          description: Camera not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /cameras/{mxid}/stats:
    get:
      tags:
      - cameras
      - cameras
      summary: Get Camera Stats
      operationId: get_camera_stats_cameras__mxid__stats_get
      parameters:
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CameraStats'
        '404':
          description: Camera not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /cameras/{mxid}/sensors/:
    get:
      tags:
      - sensors
      summary: Get Sensors
      operationId: get_sensors_cameras__mxid__sensors__get
      parameters:
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '404':
          description: Camera not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /cameras/{mxid}/sensors/{sensor_name}/:
    post:
      tags:
      - sensors
      - sensors
      summary: Activate Sensor
      operationId: activate_sensor_cameras__mxid__sensors__sensor_name___post
      parameters:
      - name: sensor_name
        in: path
        required: true
        schema:
          type: string
          pattern: CAM_[A-H]
          title: Sensor Name
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '404':
          description: Camera or sensor not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags:
      - sensors
      - sensors
      summary: Deactivate Sensor
      operationId: deactivate_sensor_cameras__mxid__sensors__sensor_name___delete
      parameters:
      - name: sensor_name
        in: path
        required: true
        schema:
          type: string
          pattern: CAM_[A-H]
          title: Sensor Name
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      responses:
        '202':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '404':
          description: Camera or sensor not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /cameras/{mxid}/sensors/{sensor_name}/config:
    get:
      tags:
      - sensors
      - sensors
      summary: Get Sensor Config
      operationId: get_sensor_config_cameras__mxid__sensors__sensor_name__config_get
      parameters:
      - name: sensor_name
        in: path
        required: true
        schema:
          type: string
          pattern: CAM_[A-H]
          title: Sensor Name
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                anyOf:
                - $ref: '#/components/schemas/CameraConfigProperties'
                - $ref: '#/components/schemas/ColorCameraConfigProperties'
                - $ref: '#/components/schemas/MonoCameraConfigProperties'
                title: Response Get Sensor Config Cameras  Mxid  Sensors  Sensor Name  Config
                  Get
        '404':
          description: Camera or sensor not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    post:
      tags:
      - sensors
      - sensors
      summary: Update Sensor Config
      operationId: update_sensor_config_cameras__mxid__sensors__sensor_name__config_post
      parameters:
      - name: sensor_name
        in: path
        required: true
        schema:
          type: string
          pattern: CAM_[A-H]
          title: Sensor Name
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              anyOf:
              - $ref: '#/components/schemas/CameraConfigProperties'
              - $ref: '#/components/schemas/ColorCameraConfigProperties'
              - $ref: '#/components/schemas/MonoCameraConfigProperties'
              title: Config
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                anyOf:
                - $ref: '#/components/schemas/CameraConfigProperties'
                - $ref: '#/components/schemas/ColorCameraConfigProperties'
                - $ref: '#/components/schemas/MonoCameraConfigProperties'
                title: Response Update Sensor Config Cameras  Mxid  Sensors  Sensor
                  Name  Config Post
        '404':
          description: Camera or sensor not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /cameras/{mxid}/sensors/{sensor_name}/control:
    get:
      tags:
      - sensors
      - sensors
      summary: Get Sensor Control
      operationId: get_sensor_control_cameras__mxid__sensors__sensor_name__control_get
      parameters:
      - name: sensor_name
        in: path
        required: true
        schema:
          type: string
          pattern: CAM_[A-H]
          title: Sensor Name
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SensorControl'
        '404':
          description: Camera or sensor not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    post:
      tags:
      - sensors
      - sensors
      summary: Update Sensor Control
      operationId: update_sensor_control_cameras__mxid__sensors__sensor_name__control_post
      parameters:
      - name: sensor_name
        in: path
        required: true
        schema:
          type: string
          pattern: CAM_[A-H]
          title: Sensor Name
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SensorControl'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SensorControl'
        '404':
          description: Camera or sensor not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /cameras/{mxid}/sensors/{sensor_name}/still:
    get:
      tags:
      - sensors
      - sensors
      summary: Capture Still Image
      operationId: capture_still_image_cameras__mxid__sensors__sensor_name__still_get
      parameters:
      - name: sensor_name
        in: path
        required: true
        schema:
          type: string
          pattern: CAM_[A-H]
          title: Sensor Name
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      - name: format
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          default: jpeg
          title: Format
      responses:
        '200':
          description: Image bytes in the selected format
          content:
            image/*:
              schema:
                type: string
        '404':
          description: Camera or sensor not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /cameras/{mxid}/sensors/{sensor_name}/nn:
    post:
      tags:
      - sensors
      - sensors
      - nn
      summary: Deploy Neural Network
      operationId: deploy_neural_network_cameras__mxid__sensors__sensor_name__nn_post
      parameters:
      - name: sensor_name
        in: path
        required: true
        schema:
          type: string
          pattern: CAM_[A-H]
          title: Sensor Name
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Body_deploy_neural_network_cameras__mxid__sensors__sensor_name__nn_post'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '404':
          description: Camera or sensor not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags:
      - sensors
      - sensors
      - nn
      summary: Delete Neural Network
      operationId: delete_neural_network_cameras__mxid__sensors__sensor_name__nn_delete
      parameters:
      - name: sensor_name
        in: path
        required: true
        schema:
          type: string
          pattern: CAM_[A-H]
          title: Sensor Name
      - name: mxid
        in: path
        required: true
        schema:
          type: string
          pattern: '[A-Z0-9]+'
          title: Mxid
      responses:
        '202':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '404':
          description: Camera or sensor not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
components:
  schemas:
    Body_deploy_neural_network_cameras__mxid__sensors__sensor_name__nn_post:
      properties:
        model:
          type: string
          format: binary
          title: Model
      type: object
      required:
      - model
      title: Body_deploy_neural_network_cameras__mxid__sensors__sensor_name__nn_post
    CameraConfigProperties:
      properties:
        resolution:
          prefixItems:
          - type: integer
          - type: integer
          type: array
          maxItems: 2
          minItems: 2
          title: Resolution
        still_size:
          prefixItems:
          - type: integer
          - type: integer
          type: array
          maxItems: 2
          minItems: 2
          title: Still Size
        preview_size:
          prefixItems:
          - type: integer
          - type: integer
          type: array
          maxItems: 2
          minItems: 2
          title: Preview Size
        video_size:
          prefixItems:
          - type: integer
          - type: integer
          type: array
          maxItems: 2
          minItems: 2
          title: Video Size
        fps:
          type: number
          title: Fps
      type: object
      required:
      - resolution
      - still_size
      - preview_size
      - video_size
      - fps
      title: CameraConfigProperties
    CameraStats:
      properties:
        chip_temperature:
          $ref: '#/components/schemas/ChipTemperature'
        cmx_memory_usage:
          $ref: '#/components/schemas/MemoryInfo'
        ddr_memory_usage:
          $ref: '#/components/schemas/MemoryInfo'
      type: object
      required:
      - chip_temperature
      - cmx_memory_usage
      - ddr_memory_usage
      title: CameraStats
    ChipTemperature:
      properties:
        average:
          type: number
          title: Average
        css:
          type: number
          title: Css
        dss:
          type: number
          title: Dss
        mss:
          type: number
          title: Mss
        upa:
          type: number
          title: Upa
      type: object
      required:
      - average
      - css
      - dss
      - mss
      - upa
      title: ChipTemperature
    ColorCameraConfigProperties:
      properties:
        resolution:
          type: integer
          title: Resolution
        still_size:
          prefixItems:
          - type: integer
          - type: integer
          type: array
          maxItems: 2
          minItems: 2
          title: Still Size
        preview_size:
          prefixItems:
          - type: integer
          - type: integer
          type: array
          maxItems: 2
          minItems: 2
          title: Preview Size
        video_size:
          prefixItems:
          - type: integer
          - type: integer
          type: array
          maxItems: 2
          minItems: 2
          title: Video Size
        fps:
          type: number
          title: Fps
      type: object
      required:
      - resolution
      - still_size
      - preview_size
      - video_size
      - fps
      title: ColorCameraConfigProperties
    DeviceInfo:
      properties:
        mxid:
          type: string
          title: Mxid
        name:
          type: string
          title: Name
        platform:
          $ref: '#/components/schemas/DevicePlatform'
        protocol:
          $ref: '#/components/schemas/DeviceProtocol'
        state:
          $ref: '#/components/schemas/DeviceState'
        status:
          type: string
          title: Status
      type: object
      required:
      - mxid
      - name
      - platform
      - protocol
      - state
      - status
      title: DeviceInfo
    DevicePlatform:
      type: string
      enum:
      - X_LINK_ANY_PLATFORM
      - X_LINK_MYRIAD_X
      - X_LINK_MYRIAD_2
      title: DevicePlatform
    DeviceProtocol:
      type: string
      enum:
      - X_LINK_ANY_PROTOCOL
      - X_LINK_IPC
      - X_LINK_PCIE
      - X_LINK_TCP_IP
      - X_LINK_USB_CDC
      - X_LINK_USB_VSC
      title: DeviceProtocol
    DeviceState:
      type: string
      enum:
      - X_LINK_ANY_STATE
      - X_LINK_BOOTED
      - X_LINK_BOOTLOADER
      - X_LINK_FLASH_BOOTED
      - X_LINK_UNBOOTED
      title: DeviceState
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          type: array
          title: Detail
      type: object
      title: HTTPValidationError
    MemoryInfo:
      properties:
        total:
          type: integer
          title: Total
        used:
          type: integer
          title: Used
        remaining:
          type: integer
          title: Remaining
      type: object
      required:
      - total
      - used
      - remaining
      title: MemoryInfo
    MonoCameraConfigProperties:
      properties:
        resolution:
          type: integer
          title: Resolution
        fps:
          type: number
          title: Fps
      type: object
      required:
      - resolution
      - fps
      title: MonoCameraConfigProperties
    SensorControl:
      properties:
        exposure_time:
          type: integer
          title: Exposure Time
        sensitivity_iso:
          type: integer
          title: Sensitivity Iso
        auto_exposure_enable:
          type: boolean
          title: Auto Exposure Enable
        auto_exposure_compensation:
          type: integer
          title: Auto Exposure Compensation
        auto_exposure_limit:
          type: integer
          title: Auto Exposure Limit
        auto_exposure_lock:
          type: boolean
          title: Auto Exposure Lock
        contrast:
          type: integer
          title: Contrast
        brightness:
          type: integer
          title: Brightness
        saturation:
          type: integer
          title: Saturation
        chroma_denoise:
          type: integer
          title: Chroma Denoise
        luma_denoise:
          type: integer
          title: Luma Denoise
      type: object
      required:
      - exposure_time
      - sensitivity_iso
      - auto_exposure_enable
      - auto_exposure_compensation
      - auto_exposure_limit
      - auto_exposure_lock
      - contrast
      - brightness
      - saturation
      - chroma_denoise
      - luma_denoise
      title: SensorControl
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          type: array
          title: Location
        msg:
          type: string
          title: Message
        type:
          type: string
          title: Error Type
      type: object
      required:
      - loc
      - msg
      - type
      title: ValidationError
